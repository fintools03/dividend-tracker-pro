[phases.setup]
nixPkgs = ['python3', 'postgresql', 'gcc', 'pkg-config', 'libffi']

[phases.install]
cmds = ['python -m venv /opt/venv', '. /opt/venv/bin/activate && pip install --upgrade pip', '. /opt/venv/bin/activate && pip install -r requirements.txt']

[start]
cmd = '. /opt/venv/bin/activate && streamlit run dividend_tracker_pro.py --server.port=$PORT --server.address=0.0.0.0'
